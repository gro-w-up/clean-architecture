# 15. 아키텍처란?

> 시스템을 만들어본 사람들이 만들어낸 시스템의 형태

시스템을 컴포넌트로 분할하는 방법, 분할된 컴포넌트를 배치하는 방법, 컴포넌트가 서로 의존성을 갖는 방식에 따라 정해진다.<br>
중요점은 아키텍처에 따라 시스템이 `개발, 배포, 운영, 유지보수` 되는 방식과 난이도가 결정된다는 것이다.<br>
구조를 이해하기 쉽게 만들고 쉽게 개발하고 쉽게 유지보수하고 쉽게 배포하게 하는게 아키텍처의 궁극적인 목표다.<br> 

> 가능한 많은 선택지를, 가능한 오래 남겨두는 전략을 따라야 한다.

### 아키텍처의 중요성

* 개발
    * 아키텍처가 고려되지 않고 일정 완료 개발에 몰두하게 된다면 (아이젠하워의 3번째 긴급하지만 중요하지 않은 일)<br>
    * 수명이 짧고 건강하지 못한 시스템이 만들어진다.<br>
* 배포
    * 시스템이 효용가치를 가지려면 배포하여 쓰여야 한다. 그런데 배포비용이 높을 수록 쓸모가 없어지는 것과 같다.<br>
    * 아키텍처가 고려되지 않고 개발된 시스템은 배포가 어렵고, 배포가 어렵다면 쓸모가 없어진다.<br>
* 운영
    * 아키텍처가 운영에 미치는 영향은 개발, 배포, 유지보수에 비해 덜 극적이다.
    * 시스템 전반적으로 운영하는데 도움이 되는 도구나 방식을 컨트롤해줘 개발과 유지보수에 큰 도움이 된다.
* 유지보수
    * 가장 비용이 많이드는 구간이기 때문에 주의를 기울여 아키텍처를 만들면 비용이 크게 줄 수 있다.
    * 시스템을 컴포넌트로 분리하고 안정된 인터페이스를 두고 격리한다. 확장에 유리하고 장애를 줄이는데 도움이 된다.

### 소프트웨어의 진정한 가치와 유지하는법

소프트웨어는 `행위적 가치`와 `구조적 가치`를 가지게 되는데, 부드러운 웨어기 때문에 구조적 가치가 더 중요하다.<br>
구조적으로 부드러워야 변화에 유연하게 대처할 수 있기 때문이다.<br>
부드럽게 유지하기 위해서는 가능한 많이, 오랫동안 `세부사항에 대한 선택사항`을 열어두는 것이다.<br>

소프트웨어 시스템은 주요한 두 가지 구성요소로 분해 가능하다.<br>

* 정책
  * 업무 규칙과 업무 절차를 구체화 (실제 필요한 기능)
* 세부사항
  * 사람, 외부 시스템, 프로그래머가 정책과 소통할 때 필요한 요소
  * ex) database 종류, 입출력 장치, 프레임워크, 서버 종류, 통신 프로토콜 등

예를 들어 Database가 어떤 것인지 개발 초기부터 결정할 필요 없다. 추상체로 어떤 db가 오던지 Plugin이 가능하게 구조를 짜면 된다.<br>
세부사항에 의존하지 않은 핵심 정책을 만들면 더 원하는 정책을 유연하게 구현할 수 있다.<br>
결국 우리의 핵심 기능이 장치나 도구에 독립적이어야 할 필요가 있다.<br>

> 좋은 아키텍트는 세부사항을 정책으로부터 신중하게 가려내고, 정책이 세부사항과 결합되지 않도록 엄격하게 분리한다.<br>
> 마치 내 Service나 Repository는 어떤 DB가 나를 쓸지 1도 모르게 만드는 것이다.<br>






